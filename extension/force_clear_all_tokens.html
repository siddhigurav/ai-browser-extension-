<!DOCTYPE html>
<html>
<head>
    <title>Force Clear All Tokens</title>
</head>
<body>
    <h1>Force Clear All Tokens</h1>
    <button id="forceClear" style="padding: 15px 30px; background-color: #ff0000; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px;">
        FORCE CLEAR ALL TOKENS AND RELOAD
    </button>
    <div id="status" style="margin-top: 20px; padding: 10px; border-radius: 5px;"></div>

    <script>
        document.getElementById('forceClear').addEventListener('click', async () => {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = '<p style="background-color: #fff3cd; color: #856404; border: 1px solid #ffeaa7;">Clearing all tokens...</p>';
            
            try {
                // Clear all possible storage locations
                await Promise.all([
                    chrome.storage.sync.clear(),
                    chrome.storage.local.clear()
                ]);
                
                statusDiv.innerHTML = '<p style="background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb;">‚úÖ All tokens cleared successfully!</p>';
                
                // Wait a moment then reload the extension
                statusDiv.innerHTML += '<p style="background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; margin-top: 10px;">üîÑ Reloading extension in 3 seconds...</p>';
                
                setTimeout(() => {
                    chrome.runtime.reload();
                }, 3000);
                
            } catch (error) {
                statusDiv.innerHTML = `<p style="background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;">‚ùå Error clearing tokens: ${error.message}</p>`;
            }
        });
    </script>
</body>
</html>